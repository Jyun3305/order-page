<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>線上點餐</title>
  <script src="mqtt.min.js"></script>
</head>
<body>
  <h2>線上點餐系統</h2>
  <label>桌號: <input type="text" id="table" value="1"></label><br>
  <label>餐點: <input type="text" id="food" value="雞腿飯"></label><br>
  <label>數量: <input type="number" id="qty" value="1"></label><br>
  <button onclick="sendOrder()">送出訂單</button>
  <script>
    // 連到 EMQX WebSocket broker
    const client = mqtt.connect('wss://broker.emqx.io:8084/mqtt');
    function sendOrder() {
      const order = {
        table: document.getElementById('table').value,
        food: document.getElementById('food').value,
        quantity: parseInt(document.getElementById('qty').value)
      };
      client.publish('restaurant/orders', JSON.stringify(order));
      alert('訂單已送出！');
    }
  </script>
</body>
</html>
